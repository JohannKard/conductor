<ul class="list-disc pl-4">
  <% @habits.each do |habit| %>
    <li class="flex items-center mb-2">
      <%= form_with(model: habit.habit_completions.find_or_initialize_by(date: @date), url: habit_completion_path(habit), method: :patch, local: true) do |form| %>
        <%= form.check_box :completed, checked: habit.habit_completions.completed.exists?(date: @date), onchange: 'this.form.submit();' %>
        <%= form.label habit.name %>
      <% end %>
    </li>
  <% end %>
</ul>