<%= form_with(model: Todo.new, url: todos_path, method: :post, local: true) do |form| %>
  <%= form.text_field :name, placeholder: "Enter a new todo...", class: "w-full border border-gray-300 rounded-md p-2 mb-2" %>
  <%= form.hidden_field :due_date, value: @date %>
  <%= form.submit "Add Todo", class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
<% end %>

<ul class="list-disc pl-4">
  <% @todos.each do |todo| %>
    <li class="flex items-center mb-2">
      <%= form_with(model: todo, url: todo_path(todo), method: :put, local: true) do |form| %>
        <%= form.check_box :completed, class: "mr-2" %>
        <%= form.text_field :name, class: "w-full border border-gray-300 rounded-md p-2 mr-2 #{todo.completed? ? 'line-through' : ''}" %>
        <%= form.submit "Update", class: "bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mr-2" %>
      <% end %>
      <%= button_to "Delete", todo_path(todo), method: :delete, class: "bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded" %>
    </li>
  <% end %>
</ul>